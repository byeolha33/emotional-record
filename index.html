<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ê°ì • ì¼ê¸°ì¥</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: url('https://www.transparenttextures.com/patterns/paper-fibers.png');
      background-color: #faf3e0;
      color: #4b3d2a;
      overflow-x: hidden;
    }

    .main-content {
      padding: 80px 20px;
      max-width: 800px;
      margin: 0 auto;
      text-align: center;
      background-color: #fffef7dd;
      border: 2px dashed #d7c4aa;
      border-radius: 16px;
      box-shadow: 0 6px 12px rgba(0,0,0,0.05);
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 30px;
      color: #5b4331;
    }

    select, textarea, button {
      font-size: 1.1rem;
      padding: 10px 16px;
      border-radius: 10px;
      border: 2px solid #d6c1a5;
      background-color: #fffaf3;
      box-shadow: inset 0 1px 2px rgba(0,0,0,0.05);
      transition: all 0.3s ease;
    }

    select:hover, textarea:focus, button:hover {
      background-color: #fff0dd;
    }

    textarea {
      width: 90%;
      height: 120px;
      margin-top: 20px;
      resize: none;
      line-height: 1.6;
    }

    button {
      margin: 12px 6px;
      background-color: #ffe0b2;
      border: none;
      cursor: pointer;
    }

    button:hover {
      background-color: #ffcc99;
    }

    #records {
      margin-top: 40px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 14px;
    }

    .record-item {
      padding: 16px;
      background-color: #fffdf7;
      border: 2px dashed #e1cbb4;
      border-radius: 10px;
      max-width: 320px;
      white-space: pre-line;
      box-shadow: 2px 4px 8px rgba(0,0,0,0.08);
      font-size: 1rem;
      line-height: 1.5;
    }
  </style>
</head>
<body>

  <!-- ğŸµ ë°°ê²½ìŒì•… -->
  <audio id="bgm-player" autoplay loop>
    <source src="music/ë“€ë“€.mp3" type="audio/mp3">
  </audio>

  <div class="main-content">
    <h1>ì˜¤ëŠ˜ì˜ ê°ì • ì¼ê¸°</h1>
    <select id="emotion-select">
      <option value="">ê°ì •ì„ ì„ íƒí•˜ì„¸ìš”</option>
      <option value="happy">ğŸ˜Š ê¸°ì¨</option>
      <option value="sad">ğŸ˜¢ ìŠ¬í””</option>
      <option value="tired">ğŸ¥± í”¼ê³¤</option>
      <option value="anxious">ğŸ˜° ë¶ˆì•ˆ</option>
      <option value="angry">ğŸ˜¡ í™”ë‚¨</option>
      <option value="other">âœï¸ ê¸°íƒ€</option>
    </select>

    <br>
    <textarea id="emotion-text" placeholder="ì˜¤ëŠ˜ ëŠë‚€ ê°ì •ì„ ì ì–´ë³´ì„¸ìš”..."></textarea>
    <br>
    <button onclick="saveEmotion()">ê¸°ë¡í•˜ê¸°</button>
    <button onclick="clearRecords()">ê¸°ë¡ ì´ˆê¸°í™”</button>

    <div id="records"></div>
  </div>

  <script>
    const messageSets = {
      happy: [
        "ë‹¹ì‹ ì˜ í–‰ë³µì´ ì˜¤ë˜ì˜¤ë˜ ì§€ì†ë˜ê¸¸ ë°”ë¼ìš”!",
        "ê¸°ìœ ì¼ì´ ìƒê²¨ì„œ ì •ë§ ë‹¤í–‰ì´ì—ìš”!",
        "ì˜¤ëŠ˜ì˜ ì›ƒìŒì´ ë‚´ì¼ë„ ì´ì–´ì§€ê¸¸ ë°”ëë‹ˆë‹¤."
      ],
      sad: [
        "ìŠ¬í”ˆ ê°ì •ì„ ë‚˜ëˆ ì¤˜ì„œ ê³ ë§ˆì›Œìš”. ë‹¹ì‹ ì˜ ë§ˆìŒì„ ì´í•´í•´ìš”.",
        "í˜¼ì ê²¬ë””ì§€ ì•Šì•„ë„ ê´œì°®ì•„ìš”. ê³ì— ìˆì–´ì¤„ê²Œìš”.",
        "ëˆˆë¬¼ ë’¤ì—” ê¼­ ë¬´ì§€ê°œê°€ ì°¾ì•„ì™€ìš”."
      ],
      tired: [
        "ë§ì´ í”¼ê³¤í–ˆêµ°ìš”. ì˜¤ëŠ˜ì€ ê¼­ í‘¹ ì‰¬ì–´ìš”.",
        "ê³ ìƒ ë§ì•˜ì–´ìš”. ì´ì   ë‹¹ì‹ ì„ ìœ„í•œ ì‹œê°„ì´ í•„ìš”í•´ìš”.",
        "ì§€ì¹œ í•˜ë£¨ ì†ì—ì„œë„ ì˜ ë²„í…¨ì¤˜ì„œ ê³ ë§ˆì›Œìš”."
      ],
      anxious: [
        "ë¶ˆì•ˆí•¨ì„ í„¸ì–´ë†“ëŠ” ê²ƒë§Œìœ¼ë¡œë„ í° ìš©ê¸°ì˜ˆìš”.",
        "ëª¨ë“  ê²Œ ê´œì°®ì•„ì§ˆ ê±°ì˜ˆìš”. ì§€ê¸ˆë„ ì˜ í•˜ê³  ìˆì–´ìš”.",
        "ë‹¹ì‹ ì˜ ë¶ˆì•ˆí•¨ì„ í•¨ê»˜ ì•ˆì•„ì¤„ê²Œìš”."
      ],
      angry: [
        "í™”ë‚œ ê°ì •ì„ ì°¸ê³  ë§í•´ì¤˜ì„œ ê³ ë§ˆì›Œìš”.",
        "ë¶„ë…¸ë¥¼ í‘œí˜„í•˜ëŠ” ê²ƒë„ ì¤‘ìš”í•œ ì¼ì´ì—ìš”.",
        "ë‹¹ì‹ ì˜ ê°ì •ì€ ì •ë‹¹í•˜ê³  ì†Œì¤‘í•´ìš”."
      ],
      other: [
        "ë‹¹ì‹ ì˜ ê°ì •ì„ ê³µìœ í•´ì¤˜ì„œ ì •ë§ ê³ ë§ˆì›Œìš”.",
        "ë§ë¡œ ì„¤ëª…í•˜ê¸° í˜ë“  ê°ì •ë„ ì¶©ë¶„íˆ ì¤‘ìš”í•´ìš”.",
        "ì§€ê¸ˆ ëŠë‚€ ê°ì •ì„ ì¸ì •í•˜ëŠ” ê²ƒë¶€í„°ê°€ ì‹œì‘ì´ì—ìš”."
      ]
    };

    const emotionLabels = {
      happy: "ğŸ˜Š ê¸°ì¨",
      sad: "ğŸ˜¢ ìŠ¬í””",
      tired: "ğŸ¥± í”¼ê³¤",
      anxious: "ğŸ˜° ë¶ˆì•ˆ",
      angry: "ğŸ˜¡ í™”ë‚¨",
      other: "âœï¸ ê¸°íƒ€"
    };

    function saveEmotion() {
      const emotion = document.getElementById("emotion-select").value;
      const text = document.getElementById("emotion-text").value.trim();
      if (!emotion || !text) {
        alert("ê°ì •ê³¼ ë‚´ìš©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”!");
        return;
      }

      const now = new Date();
      const date = `${now.getFullYear()}ë…„ ${now.getMonth() + 1}ì›” ${now.getDate()}ì¼`;

      const messages = messageSets[emotion] || ["ì˜¤ëŠ˜ í•˜ë£¨ë„ ìˆ˜ê³  ë§ì•˜ì–´ìš”."];
      const randomMessage = messages[Math.floor(Math.random() * messages.length)];

      const display = `${date} - ${emotionLabels[emotion] || emotion}\n${text}\nğŸ‘‰ ${randomMessage}`;

      const div = document.createElement("div");
      div.className = "record-item";
      div.innerText = display;
      document.getElementById("records").appendChild(div);

      const prev = JSON.parse(localStorage.getItem("emotionRecords") || "[]");
      prev.push(display);
      localStorage.setItem("emotionRecords", JSON.stringify(prev));

      document.getElementById("emotion-text").value = "";
    }

    function loadRecords() {
      const saved = JSON.parse(localStorage.getItem("emotionRecords") || "[]");
      const recordBox = document.getElementById("records");
      saved.forEach(record => {
        const div = document.createElement("div");
        div.className = "record-item";
        div.innerText = record;
        recordBox.appendChild(div);
      });
    }

    function clearRecords() {
      if (confirm("ëª¨ë“  ê°ì • ê¸°ë¡ì„ ì‚­ì œí•˜ì‹œê² ì–´ìš”?")) {
        localStorage.removeItem("emotionRecords");
        document.getElementById("records").innerHTML = "";
      }
    }

    window.onload = loadRecords;
  </script>

</body>
</html>
